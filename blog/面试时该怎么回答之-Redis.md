### 面试时该怎么回答之 Redis

#### 基础

##### 1. 聊一聊 Redis 中的几种数据类型？

- string

- list
- hash
- set
- sorted set

##### 2. 给一个简单的示例来说明下这五种结构

string，kv  结构，用于存储一些简单的信息。工作中使用的有如下:

```bash
KeyCar:01:03:A5575 -> Nitou,36.78,112.55,15598764321
```

或者用于计数器，比如网站或项目最近的访问量等：

```
ProView:01 -> 11
```

其他一些还有分布式锁、存储一些 json 数据等。



list，类似于 python 中的列表，使用双端链表实现，工作中的应用场景有一些定时计算后的排行展示，如每日违法数最多的前十道路。

```
IllegalRoad:Top10 -> ["燕山路", "山大东路", "大明湖路", "延安西路"]
```



hash，类似于 Python 中的字典类型，但不支持嵌套的对象。用于存储一些对象的属性信息，如人的基础信息：

```
User:01 -> {"name": "spardon", "age": 12, "address": "City xx Road xx"}
```



set，集合类型，set 中不会有重复元素。目前用到的有黑名单/白名单的场景，有时候会给一些用户特殊权限，会用到 set 的 sismember：

```
Bdp:SuperUser -> {"176****8326", "151****2219"}
```



sorted set，有序集合。在添加元素的时候，可以给元素指定一定的 score，更多用户实时变动的榜单等，如weibo热搜榜单等。可以对 score 设置合理的计算公式来进行榜单的刷新（如时间戳 + 分数权重），毕竟前天的weibo热搜热度再高也不能放到今天来进行展示。

```
127.0.0.1:6379> ZSCAN Weibo:Top50 0
1) "0"
2) 1) "Baoyu"
   2) "1778.1099999999999"
   3) "ZhangYiShan"
   4) "11876.1"
   5) "LiuXing"
   6) "187961.10999999999"
   7) "YangZi"
   8) "1567891.01"
```

有点晚了，明天继续吧。

